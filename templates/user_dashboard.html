<!DOCTYPE html>
<html>
<head>
    <title>User Dashboard - BooksSphere</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/modern-ui.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="p-3 p-md-5 has-bottom-bar">
    <div class="container-fluid">
      
        <div class="glass-card p-5 mb-5 text-center">
            <h1 class="display-4 mb-0"><i class="bi bi-book-heart me-2"></i>Welcome {{ user_name }}!</h1>
            <p class="lead mt-3 opacity-75">Your personal library</p>
        </div>

        <div class="row mb-5">
            <div class="col-12">
                <div class="glass-card p-4">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h3><i class="bi bi-star me-2 text-warning"></i>Premium Status</h3>
                            {% if is_premium %}
                                <span class="badge bg-success fs-5 px-4 py-2">Active âœ¨</span>
                                <small class="text-success d-block mt-1">Unlimited premium books!</small>
                            {% else %}
                                <span class="badge bg-warning fs-5 px-4 py-2">Free User</span>
                                <small class="text-muted d-block mt-1">Upgrade for premium access</small>
                            {% endif %}
                        </div>
                        <div class="col-md-4 text-md-end mt-3 mt-md-0">
                            {% if not is_premium %}
                                <a href="/payment" class="btn btn-warning btn-lg px-4">
                                    <i class="bi bi-gem me-2"></i>Go Premium
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="glass-card p-5 mb-5">
            <h3 class="mb-4"><i class="bi bi-unlock-fill me-2 text-success"></i>Free Books ({{ books_free|length }})</h3>
            <div class="row g-4">
                {% for b in books_free %}
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="book-card h-100 animate__animated animate__fadeInUp">
                            <div class="text-center mb-3">
                                <i class="bi bi-book display-4 text-success opacity-75"></i>
                            </div>
                            <h5 class="text-center mb-3">{{ b.title }}</h5>
                            <p class="text-muted text-center mb-4">{{ b.author }}</p>
                            
                            
                            <div class="d-grid mb-2">
                                <a href="/read/{{ b.id }}" class="btn btn-success w-100 py-3 fs-6">
                                    <i class="bi bi-book-open me-2"></i>Read Free
                                </a>
                            </div>
                            <div class="mt-2">
                                <a href="/toggle-favorite/{{ b.id }}" class="btn btn-outline-danger btn-sm w-100 py-2">
                                    <i class="bi bi-heart"></i> Favorite
                                </a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-book display-3 text-muted mb-3"></i>
                        <h4>No free books available</h4>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="glass-card p-5 mb-5">
            <h3 class="mb-4">
                <i class="bi bi-gem me-2 text-warning"></i>Premium Books ({{ books_premium|length }})
                {% if not is_premium %}<span class="badge bg-warning ms-2">Upgrade Required</span>{% endif %}
            </h3>
            <div class="row g-4">
                {% for b in books_premium %}
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="book-card h-100 border-warning animate__animated animate__fadeInUp" style="border-width: 3px !important;">
                            <div class="text-center mb-3">
                                <i class="bi bi-gem display-4 text-warning opacity-75"></i>
                            </div>
                            <h5 class="text-center mb-3">{{ b.title }}</h5>
                            <p class="text-muted text-center mb-4">{{ b.author }}</p>
                            {% if is_premium %}
                                <div class="d-grid mb-2">
                                    <a href="/read/{{ b.id }}" class="btn btn-warning w-100 py-3 fs-6">
                                        <i class="bi bi-crown me-2"></i>Read Premium
                                    </a>
                                </div>
                            {% else %}
                                <div class="d-grid mb-2">
                                    <a href="/payment" class="btn btn-warning w-100 py-3 fs-6">
                                        <i class="bi bi-lock-fill me-2"></i>Go Premium
                                    </a>
                                </div>
                            {% endif %}
                            
                            <div class="mt-2">
                                <a href="/toggle-favorite/{{ b.id }}" class="btn btn-outline-danger btn-sm w-100 py-2">
                                    <i class="bi bi-heart"></i> Favorite
                                </a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-12 text-center py-5">
                        <i class="bi bi-gem display-3 text-warning mb-3 opacity-50"></i>
                        <h4>No premium books yet</h4>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- ðŸ”¥ STICKY BOTTOM ACTION BAR - REPLACE Quick Actions section ðŸ”¥ -->
<div class="fixed-bottom-action-bar">
    <div class="glass-card p-3">
        <div class="row g-2 text-center">
            <div class="col-3">
                <a href="/favorites" class="btn btn-outline-danger btn-lg w-100 py-3 fs-6">
                    <i class="bi bi-heart-fill d-block mb-1"></i>MY Favorites
                </a>
            </div>
            <div class="col-3">
                <a href="/read-books" class="btn btn-outline-primary btn-lg w-100 py-3 fs-6">
                    <i class="bi bi-bookshelf d-block mb-1"></i>All Books
                </a>
            </div>
            <div class="col-3">
                <a href="/feedback" class="btn btn-outline-light btn-lg w-100 py-3 fs-6">
                    <i class="bi bi-chat-heart d-block mb-1"></i>Feedback
                </a>
            </div>
            <div class="col-3">
                <a href="/payment" class="btn btn-warning btn-lg w-100 py-3 fs-6">
                    <i class="bi bi-star d-block mb-1"></i>Premium
                </a>
            </div>
        </div>
    </div>
</div>

    </div>
</body>
</html>
